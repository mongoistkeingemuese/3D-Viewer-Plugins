{
  "id": "com.3dviewer.blueprint-sandbox",
  "name": "Blueprint Sandbox Plugin",
  "version": "1.0.0",
  "author": "3DViewer Team",
  "description": "Vollst√§ndiges Beispiel-Plugin mit allen verf√ºgbaren Features. Demonstriert Node-Manipulation, Events, Bindings (MQTT, HTTP, OPC-UA), UI-Komponenten und mehr.",
  "license": "MIT",
  "icon": "üîß",
  "entryPoint": "index.js",

  "permissions": [
    "mqtt:subscribe",
    "mqtt:publish",
    "opcua:read",
    "opcua:write",
    "http:fetch",
    "nodes:read",
    "nodes:write",
    "vars:read",
    "vars:write",
    "ui:popup",
    "ui:panel",
    "ui:overlay",
    "state:persist"
  ],

  "sandbox": "proxy",

  "nodeBinding": {
    "mode": "manual"
  },

  "ui": {
    "toolbar": {
      "enabled": true,
      "icon": "üîß",
      "tooltip": "Blueprint Plugin Panel √∂ffnen"
    },
    "panel": {
      "component": "ControlPanel",
      "title": "Blueprint Controls",
      "width": 320,
      "minWidth": 280,
      "maxWidth": 400
    },
    "popups": {
      "NodeDetails": {
        "component": "NodeDetailsPopup",
        "width": 400,
        "height": 300,
        "resizable": true
      },
      "BindingConfig": {
        "component": "BindingConfigPopup",
        "width": 500,
        "height": 400
      }
    },
    "overlays": {
      "NodeStatus": {
        "component": "NodeStatusOverlay",
        "occlude": false
      },
      "DataLabel": {
        "component": "DataLabelOverlay",
        "occlude": true
      }
    },
    "nodeSection": {
      "component": "NodePropertiesSection",
      "title": "Blueprint Settings",
      "icon": "‚öôÔ∏è",
      "order": 10
    },
    "contextMenu": [
      {
        "id": "show-details",
        "label": "Details anzeigen",
        "icon": "üìã"
      },
      {
        "id": "configure-binding",
        "label": "Binding konfigurieren",
        "icon": "üîó"
      },
      {
        "id": "reset-node",
        "label": "Zur√ºcksetzen",
        "icon": "‚Ü©Ô∏è"
      }
    ]
  },

  "config": {
    "global": {
      "schema": {
        "type": "object",
        "properties": {
          "mqttBroker": {
            "type": "string",
            "title": "MQTT Broker URL",
            "description": "URL des MQTT Brokers (z.B. ws://localhost:9001)",
            "default": "ws://localhost:9001"
          },
          "mqttBaseTopic": {
            "type": "string",
            "title": "MQTT Basis-Topic",
            "description": "Pr√§fix f√ºr alle MQTT Topics",
            "default": "3dviewer/nodes/"
          },
          "opcuaEndpoint": {
            "type": "string",
            "title": "OPC UA Endpoint",
            "description": "OPC UA Server Endpoint URL",
            "default": "opc.tcp://localhost:4840"
          },
          "httpBaseUrl": {
            "type": "string",
            "title": "HTTP API Base URL",
            "description": "Basis-URL f√ºr REST API Aufrufe",
            "default": "http://localhost:8080/api"
          },
          "refreshInterval": {
            "type": "number",
            "title": "Aktualisierungsintervall (ms)",
            "description": "Intervall f√ºr automatische Datenaktualisierung",
            "default": 1000,
            "minimum": 100,
            "maximum": 60000
          },
          "enableAnimations": {
            "type": "boolean",
            "title": "Animationen aktivieren",
            "default": true
          },
          "defaultColor": {
            "type": "string",
            "title": "Standard-Farbe",
            "format": "color",
            "default": "#00ff00"
          },
          "logLevel": {
            "type": "string",
            "title": "Log-Level",
            "enum": ["debug", "info", "warn", "error"],
            "enumNames": ["Debug", "Info", "Warnung", "Fehler"],
            "default": "info"
          }
        }
      }
    },
    "instance": {
      "schema": {
        "type": "object",
        "properties": {
          "bindingType": {
            "type": "string",
            "title": "Binding-Typ",
            "enum": ["none", "mqtt", "opcua", "http"],
            "enumNames": ["Kein Binding", "MQTT", "OPC-UA", "HTTP REST"],
            "default": "none"
          },
          "mqttTopic": {
            "type": "string",
            "title": "MQTT Topic",
            "description": "Topic f√ºr diesen Node (relativ zum Basis-Topic)"
          },
          "opcuaNodeId": {
            "type": "string",
            "title": "OPC UA Node ID",
            "description": "z.B. ns=2;s=MyVariable"
          },
          "httpEndpoint": {
            "type": "string",
            "title": "HTTP Endpoint",
            "description": "Pfad zum REST Endpoint (relativ zur Base URL)"
          },
          "colorProperty": {
            "type": "string",
            "title": "Farb-Property",
            "description": "JSON-Pfad zur Farbe in den empfangenen Daten",
            "default": "status.color"
          },
          "valueProperty": {
            "type": "string",
            "title": "Wert-Property",
            "description": "JSON-Pfad zum Anzeigewert",
            "default": "value"
          },
          "thresholds": {
            "type": "object",
            "title": "Schwellwerte",
            "properties": {
              "warning": {
                "type": "number",
                "title": "Warnung",
                "default": 70
              },
              "critical": {
                "type": "number",
                "title": "Kritisch",
                "default": 90
              }
            }
          },
          "showOverlay": {
            "type": "boolean",
            "title": "Overlay anzeigen",
            "default": true
          },
          "customLabel": {
            "type": "string",
            "title": "Benutzerdefiniertes Label"
          }
        }
      }
    }
  },

  "events": {
    "onClick": true,
    "onHover": true,
    "onDataChange": true
  }
}
